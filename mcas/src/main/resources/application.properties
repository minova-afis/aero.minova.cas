# CAS - Micro Core Application System
# Only non-default settings are configured here

####### mCAS SPECIFIC SETTINGS (REQUIRED) #######

#### NextGen Database File Access (�CAS Core Feature) ####
readPackedXBS=false
application=AFIS

# NextGen content handling
ng.api.preferdbfiles=true
ng.api.dbfiles=true
ng.api.dbregistry=true

ng.api.mdimix=true

#### Automatic Database Setup ####
# Auto-setup eliminates manual POST /setup calls - database initializes on first boot
ng.api.autosetup=true
# Set to true to force setup on every boot (useful for development/testing)
# ng.api.autosetup.force=false

#### Fat-JAR Mode ####
fat.jar.mode=true

#### Application Root Path ####
aero.minova.core.application.root.path=/

#### Database Configuration (REQUIRED - Override in deployment) ####
spring.datasource.url=jdbc:sqlserver://localhost:1433;trustServerCertificate=true;database=AFIS-CPH;User=sa;Password=Minova+0
spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver
#spring.datasource.username=YOUR_USER  
#spring.datasource.password=YOUR_PASSWORD

#### JPA/Hibernate Settings (Required for CAS) ####
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

#### JSON Processing ####
spring.http.converters.preferred-json-mapper=gson

#### Authentication Method ####
# Auto-setup no longer requires login_dataSource=admin - it creates its own temporary security context
# Configure authentication based on your deployment:
# - ldap: Use LDAP/Active Directory authentication
# - database: Use xtcasUsers table authentication
# - admin: In-memory admin user (for testing only - DO NOT use in production)
login_dataSource=database

#### Server Configuration ####
server.servlet.context-path=/cas
server.port=8084
cors.allowed.origins=https://ng-dev.minova.com,https://ng.minova.com,http://localhost,https://editor.swagger.io/

#### Management/Monitoring ####
management.server.port=8081
management.endpoints.enabled-by-default=false

####### SPRING BOOT DEFAULTS - ALREADY CONFIGURED ABOVE #######

# The following are now set explicitly above (not defaults):

# spring.application.name=�CAS - Micro Core Application System
# spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver
# spring.jpa.hibernate.ddl-auto=update  
# spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect
# spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Thymeleaf defaults (all are Spring Boot defaults):
# spring.thymeleaf.check-template=true
# spring.thymeleaf.check-template-location=true
# spring.thymeleaf.content-type=text/html
# spring.thymeleaf.enabled=true
# spring.thymeleaf.encoding=UTF-8
# spring.thymeleaf.mode=HTML
# spring.thymeleaf.prefix=classpath:/templates/
# spring.thymeleaf.suffix=.html

# JSON Processing (Gson is configured via dependencies):
# spring.http.converters.preferred-json-mapper=gson

# Connection Pool (using HikariCP defaults):
# spring.datasource.hikari.keepaliveTime=30000
# spring.datasource.hikari.leakDetectionThreshold=300000
# spring.datasource.hikari.maxLifetime=600000

####### DEVELOPMENT/DEBUGGING OPTIONS #######

# Uncomment these for development/debugging:
# spring.jpa.show-sql=true
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

####### OPTIONAL SETTINGS #######

# CORS (uncomment if needed for web UI):
# cors.allowed.origins=http://localhost,https://localhost

# Hub functionality (uncomment if using):  
# minova.hub.host=hub.minova.com:32777
# minova.hub.client.name=µCAS-INSTANCE

# External library loading (uncomment if using external libs):
# loader.path=../lib/

# LDAP authentication (uncomment if using LDAP instead of database):
# login_dataSource=ldap

# Admin authentication (for testing only):
# login_dataSource=admin